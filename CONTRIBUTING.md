# Contributing to oshinko-rest

The oshinko-rest application is a Go language based REST server that is
defined by an OpenAPI (fka Swagger) file in `api/swagger.yaml`. From this
file, the framework of the REST application is generated by using the
[go-swagger toolkit](https://github.com/go-swagger/go-swagger).

## Adding new source code

When adding to the source base for oshinko-rest, it is important not to add
code in the auto-generated portions as it may be overwritten by future
regenerations. To this end, there are several locations which should be
avoided for new code:

* `client` directory
* `cmd/oshinko-rest-server/main.go`
* `models` directory
* `restapi` directory, aside from the file `restapi/configure_oshinko_rest.go`

These directories should be **avoided** when adding new source code. The
main point of contact for interacting with the server, and its internal
resources, is the file `restapi/configure_oshinko_rest.go`. This file will
not be touched by successive regenerations of the go-swagger based code. This
file also contains several entry point functions for interacting with the
server.

## Dependencies

This project is using the vendor experiment that was merged in Go language
version 1.5[[1]][ref1][[2]][ref2]. As such, **all** dependencies required by
oshinko-rest should be stored in the `vendor` directory at the top of the
project, they should not be included through the standard `$GOPATH`
mechanism.

The files under the vendor directory should be structured as if they were
under the `$GOPATH/src` directory for a Go language installation, with the
exeception that we should not commit git repositories. If your new code
requires an external dependency, it should be added to the vendor directory
with its fully qualified path as seen in an import statement.

For example, if I wish to add source code that requires me to import
`github.com/foo/bar`, then I should copy the contents of that repository
to the directory `vendor/github.com/foo/bar` in this project.

In this manner, we can ensure that the dependency chain for the oshinko-rest
application will be frozen around the sources that are contained in the
vendor directory.

[ref1]: https://github.com/golang/go/commit/183cc0cd41f06f83cb7a2490a499e3f9101befff
[ref2]: https://blog.gopheracademy.com/advent-2015/vendor-folder/
